---
layout: docs
page_title: Upgrade the Vault EKM Provider
description: Upgrade steps for the Vault EKM Provider for Microsoft SQL Server.
---

# Upgrading the Vault EKM Provider

-> **Note:** If you get a "file in use" prompt while running the installer, select
    "Do not close application (a reboot will be required)".

1. Install the latest version from [releases.hashicorp.com][releases], following
   the instructions in the installer.
1. Execute the following query to reload the provider DLL:

    ```sql
    ALTER CRYPTOGRAPHIC PROVIDER TransitVaultProvider
        FROM FILE = 'C:\Program Files\HashiCorp\Transit Vault EKM Provider\TransitVaultEKM.dll'
    ```

1. Check that the version reported matches the version of the installer:

    ```sql
    SELECT * FROM sys.cryptographic_providers;
    ```

1. Restart the Microsoft SQL Server service.

[releases]: https://releases.hashicorp.com/vault-mssql-ekm-provider/